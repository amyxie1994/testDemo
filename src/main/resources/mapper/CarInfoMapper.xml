<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.assignment.dao.CarInfoMapper">


    <resultMap type="com.example.assignment.domain.po.CarInfoPO" id="carInfo_result">
        <result property="carNo" column="car_no"/>
        <result property="status" column="status"/>
        <result property="recordTime" column="record_time"/>
    </resultMap>

    <sql id ="carinfo_column">
        car_no,
        car_model
    </sql>

    <sql id ="query_sharing">
        <trim prefix="WHERE" prefixOverrides="AND|OR">
            1=1
            <if test="carNo!=null">
                AND car_no = #{carNo}
            </if>
            <if test="carModel!=null">
                AND car_model = #{carModel}
            </if>
        </trim>

    </sql>



    <select id="queryCarInfoListByParams" resultMap="carInfo_result" parameterType="java.util.HashMap">
        SELECT
        <include refid="carinfo_column" />
        FROM demo_car_info
        <include refid="query_sharing" />
    </select>



</mapper>